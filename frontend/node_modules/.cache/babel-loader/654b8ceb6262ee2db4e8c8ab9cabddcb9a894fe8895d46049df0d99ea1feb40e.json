{"ast":null,"code":"import _objectSpread from\"C:/Users/ksuma/Desktop/TODO/frontend/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import axios from'axios';import'./index.css';// ‚úÖ Use environment variable for API URL\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api/todos';function App(){const[todos,setTodos]=useState([]);const[text,setText]=useState('');const fetchTodos=async()=>{try{const res=await axios.get(API_URL);setTodos(res.data);}catch(error){console.error('Error fetching todos:',error.message);}};useEffect(()=>{fetchTodos();},[]);const addTodo=async()=>{if(!text.trim())return;try{const res=await axios.post(API_URL,{text});setTodos([...todos,res.data]);setText('');}catch(error){console.error('Error adding todo:',error.message);}};const toggleComplete=async todo=>{try{const res=await axios.put(\"\".concat(API_URL,\"/\").concat(todo._id),_objectSpread(_objectSpread({},todo),{},{completed:!todo.completed}));setTodos(todos.map(t=>t._id===res.data._id?res.data:t));}catch(error){console.error('Error updating todo:',error.message);}};const deleteTodo=async id=>{try{await axios.delete(\"\".concat(API_URL,\"/\").concat(id));setTodos(todos.filter(t=>t._id!==id));}catch(error){console.error('Error deleting todo:',error.message);}};return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"todo-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDCDD Advanced To-Do List\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-area\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add your task...\",value:text,onChange:e=>setText(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:addTodo,children:\"Add\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"todo-list\",children:todos.map(todo=>/*#__PURE__*/_jsxs(\"li\",{className:todo.completed?'completed':'',children:[/*#__PURE__*/_jsx(\"span\",{onClick:()=>toggleComplete(todo),children:todo.text}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:()=>deleteTodo(todo._id),children:\"\\u2716\"})]},todo._id))})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","App","todos","setTodos","text","setText","fetchTodos","res","get","data","error","console","message","addTodo","trim","post","toggleComplete","todo","put","concat","_id","_objectSpread","completed","map","t","deleteTodo","id","delete","filter","className","children","type","placeholder","value","onChange","e","target","onClick"],"sources":["C:/Users/ksuma/Desktop/TODO/frontend/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './index.css';\n\n// ‚úÖ Use environment variable for API URL\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api/todos';\n\nfunction App() {\n  const [todos, setTodos] = useState([]);\n  const [text, setText] = useState('');\n\n  const fetchTodos = async () => {\n    try {\n      const res = await axios.get(API_URL);\n      setTodos(res.data);\n    } catch (error) {\n      console.error('Error fetching todos:', error.message);\n    }\n  };\n\n  useEffect(() => {\n    fetchTodos();\n  }, []);\n\n  const addTodo = async () => {\n    if (!text.trim()) return;\n    try {\n      const res = await axios.post(API_URL, { text });\n      setTodos([...todos, res.data]);\n      setText('');\n    } catch (error) {\n      console.error('Error adding todo:', error.message);\n    }\n  };\n\n  const toggleComplete = async (todo) => {\n    try {\n      const res = await axios.put(`${API_URL}/${todo._id}`, {\n        ...todo,\n        completed: !todo.completed,\n      });\n      setTodos(todos.map((t) => (t._id === res.data._id ? res.data : t)));\n    } catch (error) {\n      console.error('Error updating todo:', error.message);\n    }\n  };\n\n  const deleteTodo = async (id) => {\n    try {\n      await axios.delete(`${API_URL}/${id}`);\n      setTodos(todos.filter((t) => t._id !== id));\n    } catch (error) {\n      console.error('Error deleting todo:', error.message);\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <div className=\"todo-container\">\n        <h1>üìù Advanced To-Do List</h1>\n        <div className=\"input-area\">\n          <input\n            type=\"text\"\n            placeholder=\"Add your task...\"\n            value={text}\n            onChange={(e) => setText(e.target.value)}\n          />\n          <button onClick={addTodo}>Add</button>\n        </div>\n\n        <ul className=\"todo-list\">\n          {todos.map((todo) => (\n            <li key={todo._id} className={todo.completed ? 'completed' : ''}>\n              <span onClick={() => toggleComplete(todo)}>{todo.text}</span>\n              <button className=\"delete\" onClick={() => deleteTodo(todo._id)}>‚úñ</button>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}